CREATE TABLE Departments (
    dept_id INT PRIMARY KEY,
    dept_name VARCHAR(50) NOT NULL UNIQUE
);
CREATE TABLE Courses (
    course_id INT PRIMARY KEY,
    course_name VARCHAR(100) NOT NULL,
    dept_id INT,
    FOREIGN KEY (dept_id) REFERENCES Departments(dept_id)
);
INSERT INTO Departments (dept_id, dept_name) VALUES
(1, 'Computer Science'),
(2, 'Electrical'),
(3, 'Mechanical'),
(4, 'Civil'),
(5, 'Electronics');
INSERT INTO Courses (course_id, course_name, dept_id) VALUES
(101, 'DBMS', 1),
(102, 'Operating Systems', 1),
(111, 'Computer Networks', 1), -- Extra to ensure >2 courses
(103, 'Power Systems', 2),
(104, 'Digital Circuits', 2),
(112, 'Electrical Machines', 2), -- Extra
(105, 'Thermodynamics', 3),
(106, 'Fluid Mechanics', 3),
(113, 'Heat Transfer', 3), -- Extra
(107, 'Structural Engineering', 4),
(108, 'Surveying', 4),
(114, 'Construction Materials', 4), -- Extra
(109, 'Embedded Systems', 5),
(110, 'VLSI Design', 5),
(115, 'Microcontrollers', 5);
SELECT dept_name
FROM Departments
WHERE dept_id IN (
    SELECT dept_id
    FROM Courses
    GROUP BY dept_id
    HAVING COUNT(course_id) > 2
);
GRANT SELECT ON academic_management.Courses TO 'viewer_user'@'localhost';
FLUSH PRIVILEGES;
